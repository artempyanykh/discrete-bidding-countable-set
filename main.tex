\documentclass[12pt, draft]{extarticle}

\usepackage[a4paper]{geometry}%

\usepackage{pscyr}

\usepackage[utf8]{inputenc}%
\usepackage[T2A]{fontenc}
\usepackage[english,russian]{babel}%

\usepackage{amsmath}%
\usepackage{amssymb}%
\usepackage{amsthm}%
\usepackage{amsopn}%
\usepackage{amsfonts}
\usepackage{textcomp}%
\usepackage{tabu}

\newtheorem{definition}{Определение}
\newtheorem{lemma}{Лемма}
\newtheorem{theorem}{Теорема}

% Visuals
\usepackage{indentfirst}
\frenchspacing

\usepackage{fancyhdr}
\lhead{}
\chead{Модель биржевых торгов со счетным множеством состояний}
\rhead{}
\lfoot{}
\cfoot{\thepage}
\rfoot{}
\renewcommand{\headrulewidth}{0.8pt}
% \renewcommand{\footrulewidth}{0.8pt}
\pagestyle{fancy}

% \renewenvironment{abstract}{%
%   \hfill\begin{minipage}{0.95\textwidth}
%     \rule{\textwidth}{1pt}\small}
%   {\normalsize\par\noindent\rule{\textwidth}{1pt}\end{minipage}}
% 
% \makeatletter
% \renewcommand\@maketitle{%
%   \newpage
%   \null
%   \vskip 2em%
%   \begin{center}%
%     \let \footnote \thanks
%     {\Large \@title \par}%
%     \vskip 1.5em%
%     {\normalsize
%       \lineskip .5em%
%       \begin{tabular}[t]{c}%
%         \@author
%       \end{tabular}\par}%
%     \vskip 1em%
%     {\normalsize \@date}%
%   \end{center}%
%   \par
%   \vskip 1.5em}
% \makeatother
\newcommand{\overbar}[1]%
{\mkern 1.5mu\overline{\mkern-1.3mu#1\mkern-1.3mu}\mkern 1.3mu}

\newcommand{\s}{\ensuremath{s}}
\newcommand{\p}{\ensuremath{\overbar{p}}}
\newcommand{\q}{\ensuremath{\overbar{q}}}
\DeclareMathOperator{\E}{\mathbb{E}}
\DeclareMathOperator{\D}{\mathbb{D}}
\DeclareMathOperator{\Z}{\mathbb{Z}}
\newcommand{\G}[1][n]{\ensuremath{G_{#1}}}
\newcommand{\K}[1][n]{\ensuremath{K_{#1}}}
\DeclareMathOperator{\FPStrategies}{\Sigma}
\DeclareMathOperator{\SPStrategies}{\mathrm{T}}
\newcommand{\V}[1][n]{\ensuremath{V_{#1}}}
\newcommand{\High}[1][\ensuremath{\infty}]{\ensuremath{H_{#1}}}
\newcommand{\sigmav}{\ensuremath{\overbar{\sigma}}}
\newcommand{\tauv}{\ensuremath{\overbar{\tau}}}
\newcommand{\sigmak}{\ensuremath{\hat{\sigma}}}
\newcommand{\Low}[1][\ensuremath{\infty}]{\ensuremath{L_{#1}}}

\begin{document}

\title{Многошаговая модель биржевых торгов с элементами переговоров: расширение
  на случай счетного множества состояний%
}%
\author{%
  Артем Пьяных%
  \thanks{%
    Исследование выполнено при финансовой поддержке РФФИ в рамках научного
    проект \textnumero 16-01-00353a.%
  }\\
  Московский университет им. М.В. Ломоносова\\
  Факультет вычислительной математики и кибернетики\\
  \texttt{artem.pyanykh@gmail.com}%
}%
\maketitle

\begin{abstract}
  Рассматривается упрощенная модель финансового рынка, на котором два игрока
  ведут торги за однотипные акции в течение $n$ шагов. Игрок 1 (инсайдер)
  информирован о настоящей ликвидной цене акции, которая может принимать любое
  значение из $\Z_+$. В то же время игрок 2 знает только вероятностное
  распределение $\p$ цены акции. На каждом шаге торгов игроки делают
  целочисленные ставки. Игрок, предложивший б\'{о}льшую ставку покупает у
  другого акцию по цене, равной выпуклой комбинации предложенных ставок.
  Получено решение игры неограниченной продолжительности для распределений $\p$
  с конечной дисперсией.

  \textbf{Ключевые слова}: многошаговые игры, асимметричная информация,
  инсайдерская торговля.
\end{abstract}

\section{Введение}
\label{sec:intro}

В данной работе рассматривается упрощенная модель финансового рынка, на котором
два игрока ведут торги за однотипные акции на протяжении $n \leqslant \infty$
шагов. Перед началом торгов случайный ход определяет цену акции $\s \in S$ на
весь период торгов в соответствии с вероятностным распределением $\p = (p^s, \;
s \in S)$. Выбранная цена сообщается игроку 1 (инсайдеру). Игрок 2 при этом
знает только вероятностное распределение $\p$ и не осведомлен о настоящем
значении цены. На каждом шаге торгов игроки одновременно и независимо назначают
некоторую цену за акцию. Игрок, сделавший большую ставку, покупает акцию у
другого; если ставки равны, сделки не происходит. Задачей игроков является
максимизация стоимости итогового портфеля, состоящего из некоторого числа акций
и суммы денег. Данное описание считается известным обоим игрокам.

Модель, в которой цена акции может принимать только значения $0$ и $m$, была
рассмотрена в \cite{bib:domansky07}. Задача сводится к анализу антагонистической
повторяющейся игры с неполной информацией, как описано в \cite{bib:aumann}. В
рамках данной модели неосведомленный игрок 2 использует историю ставок игрока 1
для пересчета апостериорных вероятностей значения цены акции. Отсюда, задачей
игрока 1 является поиск стратегии, которая позволит ему контролировать
последовательность апостериорных вероятностей таким образом, чтобы игрок 2 как
можно дольше не мог догадаться о настоящем значении цены. В
\cite{bib:domansky07} показано, что последовательность верхних значений
$n$-шаговых игр ограничена, что позволило определить игру с бесконечным
количеством шагов, для которой были найдены оптимальные стратегии игроков и
значение.
%
Для игр с конечным количеством шагов аналитические решения получены только в
узком числе случаев: в \cite{bib:sandomirskaya12} получено решение одношаговой
игры при произвольном натуральном значения $m$; в \cite{bib:kreps09} получено
решение $n$-шаговых игр при $m \leqslant 3$. Аналитическое решение игр с
конечным количеством шагов в общем случае остается открытой проблемой.
%
В работе \cite{bib:domansky11} рассмотрено обобщение модели на случай, когда
цена акции может принимать любое значение $\s \in S = \mathbb{Z}_+$. Показано,
что если $\mathbb{D} \p < \infty$, то последовательность верхних значений игры
ограничена, что снова позволяет определить игру с бесконечным количеством шагов,
для которой авторами получено решение.

В работах \cite{bib:domansky07, bib:domansky11} сделка осуществляется по цене,
равной наибольшей предложенной ставке. Можно, однако, рассмотреть другой
механизм, предложенный в \cite{bib:chatterjee83}, и положить цену сделки равной
выпуклой комбинации предложенных ставок с коэффициентом $\beta \in [0,1]$, т.е.
если игроками были сделаны ставки $p_1 \neq p_2$, то акция будет продана по цене
$\beta \max(p_1, p_2) + (1-\beta) \min(p_1, p_2)$. Фактически в
\cite{bib:domansky07, bib:domansky11} коэффициент $\beta$ равен $1$. Обобщение
модели с двумя возможными значениями цены акции на случай произвольного $\beta$
было проведено в \cite{bib:pyanykh16}. В данной работе обобщение на случай
произвольного $\beta$ проведено для модели со счетным множеством возможных
значений цены акции.

\section{Постановка задачи}
\label{sec:problem-statement}

Пусть множество состояний рынка $S = \Z_+$. Перед началом игры случай выбирает
состояние рынка $\s \in S$ в соответствии с вероятностным распределением $\p =
(p^s, \; s \in S)$ таким, что $\D \p < \infty$. На каждом шаге игры $t =
\overline{1,n}, \; n \leqslant \infty$ игроки делают ставки $i_t \in I, \, j_t
\in J$, где $I = J = \Z_+$. Выплата игроку 1 в состоянии $s$ равна
\begin{equation*}
  % \label{eq:ps:stage-payoff}
  a^s(i_t, j_t) =
  \begin{cases}
    (1-\beta) i_t + \beta j_t - s, &\; i_t < j_t, \\
    0, &\; i_t = j_t, \\
    s - \beta i_t - (1-\beta)j_t, &\; i_t > j_t.
  \end{cases}
\end{equation*}

Обозначим через $\Delta(X)$ множество вероятностных распределений над $X$.
\begin{definition}
  Стратегией игрока 1 является последовательность ходов $\sigmav = (\sigma_1,
  \ldots, \sigma_n)$, где $\sigma_t: S \times I^{t-1} \rightarrow \Delta(I)$.
  Множество стратегий игрока 1 обозначим $\FPStrategies$.
\end{definition}

\begin{definition}
  Стратегией игрока 2 является последовательность ходов $\tauv = (\tau_1,
  \ldots, \tau_n)$, где $\tau_t: I^{t-1} \rightarrow \Delta(J)$. Множество
  стратегий игрока 2 обозначим $\SPStrategies$.
\end{definition}

То есть, игрок 1 на каждом шаге игры рандомизирует свои действия в зависимости
от состояния рынка $s$ и истории ставок. Игрок 2 в свою очередь, не имея
информации о состоянии рынка $s$, опирается только на историю ставок инсайдера.

Будем считать, что игроки обладают неограниченными запасами рисковых и
безрисковых активов, т.е. торги не могут закончиться по причине того, что у
одного из игроков закончатся деньги или акции. Кроме того, будем считать, что в
начальный момент времени оба игрока имеют нулевые портфели.

\begin{definition}
  При использовании игроком 1 стратегии $\sigma$, игроком 2 --- стратегии
  $\tau$, ожидаемый выигрыш игрока 1 равен
  \begin{equation*}
    \K(\p, \sigmav, \tauv) =
    \E_{(\p, \sigmav, \tauv)} \sum_{t=1}^n a^s(i_t, j_t),
  \end{equation*}
  где математическое ожидание берется по мере, индуцированной $\p$, $\sigmav$ и
  $\tauv$.
\end{definition}
Заданную таким образом игру обозначим $\G(\p)$.

\begin{definition}
  Если для некоторых $\sigmav^* \in \FPStrategies,$ $\tauv^* \in \SPStrategies$
  выполняется
  \begin{equation*}
    \sup_{\sigmav \in \FPStrategies} \inf_{\tauv \in \SPStrategies} \K(\p, \sigmav, \tauv) =
    \K(\p, \sigmav^*, \tauv^*) =
    \inf_{\tauv \in \SPStrategies} \sup_{\sigmav \in \FPStrategies} \K(\p, \sigmav, \tauv) = 
    \V(\p),
  \end{equation*}
  то игра $\G(\p)$ имеет значение $\V(\p)$, а стратегии $\sigmav^*$ и $\tauv^*$
  являются оптимальными.
\end{definition}

Следуя \cite{bib:domansky11}, опишем рекурсивную структуру игры $\G(\p)$.
Представим стратегию игрока 1 в виде $\sigmav = (\sigma, \sigmav^i, i \in I)$,
где $\sigma$ --- ход игрока на первом шаге, а $\sigmav^i$ --- стратегия в игре
продолжительности $n-1$ в зависимости от ставки $i$ на первом шаге. Аналогично,
стратегию игрока 2 представим в виде $\tauv = (\tau, \tauv^i, \; i \in I)$.
%
Далее, обозначим $q^i$ полную вероятность, с которой игрок 1 делает ставку $i
\in I$, и $\q = (q^i, \; i \in I)$ --- соответствующее распределение. Также
обозначим $p^{s|i}$ апостериорную вероятность состояния $s$ в зависимости от
ставки $i$ игрока 1 и $\p^i = (p^{s|i}, \, s \in S)$ --- соответствующее
апостериорное распределение. Тогда для значения выигрыша будет справедлива
формула
\begin{equation*}
  \K[n](\p, \sigmav, \tauv) =
  \K[1](\p, \sigma, \tau) +
  \sum_{i \in I} q_i \K[n-1](\p^i, \sigmav^i, \tauv^i).
\end{equation*}
Таким образом, определить стратегию в игре произвольной продолжительности можно,
задав ход игрока для любого значения $\p$.

\section{Оценки на выигрыш в игре $\mathbf{\G[\infty](\p)}$}
\label{sec:payoff-bounds}

Следуя \cite{bib:domansky11}, рассмотрим следующую чистую стратегию игрока 2.

\begin{definition}
  Стратегия $\tauv^k$ игрока 2 определяется следующим образом:
  \begin{equation*}
    \tau^k_1 = k, \quad
    t^k_t = \begin{cases}
      j_{t-1}, &\; i_{t-1} < j_{t-1},\\
      j_t, &\; i_{t-1} = j_{t-1},\\
      j_{t+1}, &\; i_{t-1} > j_{t-1}.
    \end{cases}
  \end{equation*}
\end{definition}
При использовании этой стратегии игрок 2 делает ставку равную $k$ на первом
шаге, а далее подражает инсайдеру. Введем обозначение $x^+ = \max(0, x)$.

\begin{lemma}
  \label{upper-bound:lemma:vector-payoffs}
  При применении стратегии $\tauv^k$ в игре $\G(\p)$ игрок 2 в состоянии $s$
  гарантирует себе проигрыш не более
  \begin{gather*}
    h^s_n(\tauv^k) = \sum_{t=0}^{n-1} (k-s-t-1+\beta)^+, \; s \leqslant k, \quad
    h^s_n(\tauv^k) = \sum_{t=0}^{n-1} (s-k-t-\beta)^+, \; s \geqslant k.
  \end{gather*}
  Последовательность $\left\{ h^s_n(\tauv^k), \; n = \overline{1, \infty}
  \right\}$ не убывает, ограничена сверху и сходится к %
  $h^s_\infty(\tauv^k) = (s - k + 1 - 2\beta)(s-k)/2$.
\end{lemma}

Введем следующие обозначения для множества распределений на $S$ с заданным
математическим ожиданием
\begin{equation*}
  \Theta(x) = \left\{ \p' \in \Delta(S): \E \p' = x \right\}, \quad
  \Lambda(x, y) = \left\{ \p' \in \Delta(S): x < \E \p' \leqslant y \right\}.
\end{equation*}

\begin{theorem}
  \label{upper-bound:theorem}
  Выигрыш в игре $\G[\infty](\p)$ ограничен сверху функцией
  \begin{equation*}
    \High(\p) = \min_{k \in J} \sum_{s \in S} p_s  h^s_\infty(\tauv^k).
  \end{equation*}
  Функция $\High(\p)$ является кусочно-линейной с областями недифференцируемости
  $\Theta(k+\beta)$ и областями линейности $\Lambda(k - 1 + \beta, s + \beta)$
  при $k \in S$. Для распределений $\p$ таких, что $\E \p = k - 1 + \beta + \xi,
  \; \xi \in (0, 1]$ ее значение равно
  \begin{equation*}
    \High(\p) = \left( \D \p + \beta(1-\beta) - \xi(1-\xi) \right)/2.
  \end{equation*}
  Стратегия $\tauv^*$, которая позволяет игроку 2 обеспечить данную оценку,
  состоит в применении $\tauv^k$ при $\p \in \Lambda(k - 1 + \beta, k + \beta)$.
\end{theorem}
Заметим, что как и в \cite{bib:pyanykh16}, в данном случае наблюдается сдвиг
областей линейности на $\beta$ относительно $\E \p$ в сравнении с результатами в
\cite{bib:domansky11}.

Перейдем к описании стратегии игрока 1, которая гарантирует ему выигрыш не менее
$\High(\p)$. Пусть $\sigma^s_i$ --- компонента хода игрока 1, т.е. вероятность
сделать ставку $i$ в состоянии $s$. По правилу Байеса $\sigma^s_i = p^{s|i} q^i
/ p^s$. Таким образом, ход игрока 1 можно определить, задав полные вероятности
$q^i$ сделать ставку $i$ и апостериорные вероятности $p^{s|i}$ для $i \in I$.
Тогда в терминах $\q$, $\p^i$ одношаговый выигрыш выражается следующим образом:
\begin{equation*}
  \K[1](\p, \sigma, j) = \sum_{i \in I} \sum_{s \in S} q^i p^{s|i} a^s(i, j).
\end{equation*}

Обозначим $\Low[n](\p)$ --- минимальный выигрыш, который может гарантировать
себе игрок 1 в игре $\G(\p)$.
\begin{lemma}
  \label{lower-bound:lemma:convex-combination}
  Пусть %
  $\q_l = (q^1_l, \ldots, q^n_l),$ %
  $\p^i_l = ( p^{1|i}_l, p^{2|i}_l, \ldots)$ %
  отвечают первому ходу стратегии игрока 1, которая гарантирует ему выигрыш
  $\Low[n](\p_l)$, $l = 1,2$. Тогда для $\p = \lambda \p_1 + (1-\beta) \p_2, \;
  \lambda \in [0, 1],$ стратегия, первый ход которой задается параметрами
  \begin{equation*}
    q^i = \lambda q^i_1 + (1-\lambda) q^i_2, \quad
    p^{s|i} = \left(\lambda q^i_1 p^{s|i}_1 + (1-\lambda) q^i_2 p^{s|i}_2\right)/q^i,
  \end{equation*}
  гарантирует игроку 1 выигрыш $\lambda \Low[n](\p_1) + (1-\lambda)
  \Low[n](\p_2)$.
\end{lemma}

Из леммы \ref{lower-bound:lemma:convex-combination} следует, что для
доказательства совпадения верхней и нижней оценок на выигрыш в $\G[\infty](\p)$
можно ограничиться рассмотрением для распределений $\p \in \Theta(k + \beta), \;
k \in S$. Как показано в \cite{bib:domansky11}, любое $\p$ может быть
представлено в виде выпуклой комбинации распределений с двухточечным носителем.
Обозначим $\p^x(l, r) \in \Theta(x)$ такое распределение с математическим
ожиданием $x$, которое принимает только значения $l$ и $r$. Таким образом,
достаточно доказать выполнение равенства $\Low(\p) = \High(\p)$ для
$\p^{k+\beta}(l,r), \; k \in S$. Построим соответствующую стратегию игрока 1.

Обозначим $\sigmak_k$ ход игрока 1, состоящий в применении действий $k$ и $k+1$.
Ход $\sigmak_k$ определяется заданием $q_k, q_{k+1}$ и $\p^k, \p^{k+1}$.
Следующая лемма является обобщением \cite[Утверждение 2]{bib:pyanykh16}.
\begin{lemma}
  \label{lower-bound:lemma:stage-payoff}
  При использовании $\sigmak_k$ одношаговый выигрыш игрока 1 равен
  \begin{equation*}
    \K[1](\p, \sigmak_k, j) = \begin{cases}
      \E \p + \beta k - (1-\beta) j - \beta q_{k+1}, &\; j < k, \\
      (\E \p^{k+1} - k - \beta) q_{k+1}, &\; j = k, \\
      (k + \beta - \E \p^k) q_k, &\; j = k, \\
      (1-\beta) k + \beta j - \E \p + (1-\beta) q_{k+1}, &\; j > k + 1.
    \end{cases}
  \end{equation*}
\end{lemma}

Распространяя результаты \cite{bib:pyanykh16} на случай $\p^{k+\beta}(l, r)$,
определим следующую стратегию игрока 1 в игре $\G[\infty](\p)$.

\begin{definition}
  Первый ход стратегии $\sigmav^*$ определяется следующим образом. При $\p =
  \p^l(l,r)$ и $\p = \p^r(l,r)$ игрок 1 использует ставки $l$ и $r$,
  соответственно, с вероятностью 1. Для %
  $\p \in \left\{ \p^k(l, r), \, \p^{k+\beta}(l, r) \right\}$ %
  игрок 1 использует $\sigmak_k$ с параметрами
  \begin{align*}
    &\p^k(l, r):&
    &q^k = \beta,&
    &q^{k+1} = 1-\beta,&
    &\p^k = \p^{k-1+\beta}(l, r),&
    &\p^{k+1} = \p^{k+\beta}(l, r);&\\
    &\p^{k+\beta}(l, r):&
    &q^k = 1-\beta,&
    &q^{k+1} = \beta,&
    &\p^k = \p^k(l, r),&
    &\p^{k+1} = \p^{k+1}(l, r).&
  \end{align*}
  На последующих шагах игры, таким образом определенный ход применяется
  рекурсивно для соответствующих значений апостериорных вероятностей. Для
  остальных распределений $\p$ стратегия $\sigmav^*$ определяется конструкцией
  леммы \ref{lower-bound:lemma:convex-combination}.
\end{definition}

Следующая лемма является обобщением \cite[Утверждение 5]{bib:pyanykh16}.
\begin{theorem}
  \label{lower-bound:theorem}
  При использовании стратегии $\sigmav^*$ в игре $\G[\infty](\p)$ для
  распределения %
  $\p \in \left\{ \p^k(l, r), \, \p^{k+\beta}(l, r) \right\}$ %
  гарантированный выигрыш игрока 1 удовлетворяет следующей системе:
  \begin{gather*}
    \Low(\p^{k+\beta}(l,r)) = 
    \beta(1-\beta) + (1-\beta) \Low(\p^k(l, r)) + \beta \Low(\p^{k+1}(l, r)), \;
    k \in \overline{l, r - 1}, \\
    \Low(\p^k(l,r)) = 
    \beta \Low(\p^{k-1+\beta}(l, r)) + (1-\beta) \Low(\p^{k+\beta}(l, r)), \;
    k \in \overline{l + 1, r - 1},\\
    \Low(\p^l(l,r)) = \Low(\p^r(l,r)) = 0.
  \end{gather*}
  Ее решение дает нижнюю оценку выигрыша игрока 1 равную
  \begin{equation*}
    \Low(\p^{k+\beta}(l, r)) = ((r-k-\beta)(k+\beta-l) + \beta(1-\beta))/2.
  \end{equation*}
\end{theorem}

Так как $\D p^{k+\beta}(l, r) = (r-k-\beta)(k+\beta-l)$, то выражения для
$\High(\p)$ и $\Low(\p)$ совпадают. Таким образом, справедлива следующая
\begin{theorem}
  \label{solution:theorem}
  Игра $\G[\infty](\p)$ имеет значение $\V[\infty](\p) = \High(\p) = \Low(\p)$.
  Стратегии $\tauv^*$ и $\sigmav^*$, определенные ранее, являются оптимальными.
\end{theorem}

В заключение, сделаем несколько замечаний. Во-первых, нужно отметить, что
стратегия неосведомленного игрока является удивительно устойчивой по отношению к
изменению функции выигрыша. Вероятно, ее применение может быть распространено на
более широкий класс задач. В то же время, оптимальная стратегия инсайдера
существенно меняется. В \cite{bib:domansky11} при применении оптимальной
стратегии игроком 1, апостериорные распределения образуют симметричное случайное
блуждание по множествам $\Theta(s), \, s \in S$, т.е. для $\p \in \Theta(s)$
апостериорное распределение $\p'$ будет принадлежать либо $\Theta(k-1)$, либо
$\Theta(k+1)$ с вероятностями равными $1/2$. В случае $\beta \in (0, 1)$
блуждание происходит по более широкому набору множеств %
$\left\{ \Theta(s), \Theta(s+\beta) \right\}$, %
кроме того оно больше не является симметричным, кроме случая $\beta = 1/2$.
Отметим также, что оптимальная стратегия $\sigmav^*$ не сводится к стратегии из
\cite{bib:domansky11} при $\beta \rightarrow 1$.

\appendix
\setcounter{secnumdepth}{0}
\section{Приложение}

\begin{proof}[Доказательство леммы \ref{upper-bound:lemma:vector-payoffs}]
  Проведем доказательство по индукции для случая $s > k$. Для $n = 1$
  оптимальный ответ игрока 1 на $\tauv^k$ будет $i = k + 1$. Тогда
  \begin{equation*}
    h^s_1(\tauv^k) = s - \beta(k+1) - (1-\beta)k = s - k - \beta.
  \end{equation*}
  База индукции проверена. Предположим, что утверждение верно для $n \leqslant
  N$. При $n = N + 1$ игрок 1 имеет два разумных ответа на $\tauv^k$: ставка $i
  = k + 1$, что соответствует покупке акции по наименьшей возможной цене, и
  ставка $i = k - 1$, что соответствует продаже акции за наибольшую возможную
  цену. Найдем выигрыши в каждом из случаев. Для $i = k + 1$
  \begin{equation*}
    h^s_{N+1}(\tauv^k) = s - k - \beta + h^s_N(\tauv^{k+1}) =
    \sum_{t=0}^N(s-k-t-\beta)^+.
  \end{equation*}
  Аналогично для $i = k - 1$
  \begin{equation*}
    h^s_{N+1}(\tauv^k) = \beta k + (1-\beta)(k-1) - s + h^s_N(\tauv^{k-1}) =
    \sum_{t=0}^{N-2}(s-k-t-\beta)^+.
  \end{equation*}
  При $s \leqslant k$ формула для $h^s_n(\tauv^k)$ доказывается похожим образом.
  Сходимость $h^s_n(\tauv^k)$ к $h^s_\infty(\tauv^k)$ проверяется
  непосредственно.
\end{proof}

\begin{proof}[Доказательство теоремы \ref{upper-bound:theorem}]
  TODO
\end{proof}

\begin{proof}[Доказательство леммы \ref{lower-bound:lemma:convex-combination}]
  TODO
\end{proof}

\begin{proof}[Доказательство леммы \ref{lower-bound:lemma:stage-payoff}]
  TODO
\end{proof}

\begin{proof}[Доказательство теоремы \ref{lower-bound:theorem}]
  TODO
\end{proof}

\begin{thebibliography}{99}
% \bibitem{bib:demeyer02}%
%   De Meyer B., Saley H. \emph{On the strategic origin of Brownian motion in
%     finance} // International Journal of Game Theory. 2002. V. 31. P. 285--319.

\bibitem{bib:domansky07}%
  Domansky V. \emph{Repeated games with asymmetric information and random price
    fluctuations at finance markets} // International Journal of Game Theory.
  2007. V. 36(2). P. 241--257.

\bibitem{bib:aumann}%
  Aumann R.J., Maschler M.B. \emph{Repeated Games with Incomplete Information}.
  The MIT Press, Cambridge, London.

\bibitem{bib:sandomirskaya12}%
  Сандомирская М.С., Доманский В.К. \emph{Решение одношаговой игры биржевых
    торгов с неполной информацией} // Математическая теория игр и ее приложения.
  2012. 4. №1. С. 32-54.

\bibitem{bib:kreps09}%
  Крепс В.Л. \emph{Повторяющиеся игры, моделирующие биржевые торги, и возвратные
    последовательности} // Известия РАН. Теория и системы управления. 2009. № 4.
  С. 109--120.

\bibitem{bib:domansky11}%
  Доманский В.К., Крепс В.Л. \emph{Теоретико-игровая модель биржевых торгов:
    стратегические аспекты формирования цен на фондовых рынках} // Журнал Новой
  экономической ассоциации. 2011. Вып. 11. C. 39–-62.

\bibitem{bib:chatterjee83}%
  Chatterjee K., Samuelson W. \emph{Bargaining under Incomplete Information} //
  Operations Research. 1983. V. 31. N. 5. P. 835--851.

% \bibitem{bib:pyanykh14}%
%   Пьяных А.И. \emph{Об одной модификации модели биржевых торгов с инсайдером} //
%   Математическая теория игр и её приложения. 2014. 6. № 4. C. 68--84.

\bibitem{bib:pyanykh16}%
  Пьяных А.И. \textit{Многошаговая модель биржевых торгов с асимметричной
    информацией и элементами переговоров} // Вестн. Моск. ун-та. Сер.15. Вычисл.
  матем. и киберн. 2016. №1. С. 34—40.
\end{thebibliography}

\end{document}
